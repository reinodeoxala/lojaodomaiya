<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Od√≤m√°√¨y√† Artigos Religiosos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- PWA / APP FEEL -->
<meta name="theme-color" content="#0b2c4a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --azul:#0b2c4a;
  --azul2:#123f66;
  --dourado:#f4c430;
  --bg:#f5f7fb;
  --card:#ffffff;
  --cart-bg:#fdfdfd;
  --shadow:rgba(0,0,0,.15);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif;}
body{background:var(--bg);padding-bottom:90px;color:#111;transition:0.3s;}

/* HEADER */
header{
  background:linear-gradient(135deg,#06192c,#0b2c4a);
  color:#fff;
  padding:25px 20px 35px;
  border-bottom-left-radius:30px;
  border-bottom-right-radius:30px;
  text-align:center;
}
header h1{font-size:22px;font-weight:700;letter-spacing:1px;}
header p{font-size:13px;opacity:.9;margin-top:6px;}
header a{color:var(--dourado);text-decoration:none;font-size:13px;display:inline-block;margin-top:6px;}

/* SEARCH */
.search{
  margin:-20px 16px 15px;
  background:#fff;
  border-radius:14px;
  padding:12px;
  display:flex;
  gap:8px;
  box-shadow:0 8px 20px var(--shadow);
}
.search input, .search select{
  flex:1;
  border:none;
  outline:none;
  font-size:14px;
  padding:6px;
  border-radius:10px;
}

/* TABS */
.tabs{
  display:flex;
  overflow-x:auto;
  gap:10px;
  padding:10px 16px;
}
.tabs button{
  background:#fff;
  border:none;
  padding:8px 14px;
  border-radius:20px;
  font-size:13px;
  white-space:nowrap;
  box-shadow:0 4px 12px var(--shadow);
  cursor:pointer;
  transition:0.3s;
}
.tabs button.active{
  background:var(--azul);
  color:#fff;
}

/* PRODUTOS */
.produtos{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:14px;
  padding:0 16px;
}
.produto{
  background:var(--card);
  border-radius:16px;
  padding:10px;
  box-shadow:0 6px 18px var(--shadow);
  display:flex;
  flex-direction:column;
  transition:0.3s;
}
.produto:hover{transform:translateY(-3px);}
.produto img{
  width:100%;
  border-radius:12px;
  margin-bottom:8px;
  height:150px;
  object-fit:cover;
}
.produto h3{font-size:14px;margin-bottom:4px;}
.preco{font-weight:700;color:var(--azul2);font-size:14px;margin-bottom:4px;}
.qtd{display:flex;align-items:center;justify-content:space-between;margin:6px 0;}
.qtd button{
  width:28px;
  height:28px;
  border-radius:50%;
  border:none;
  background:#ddd;
  font-size:16px;
  cursor:pointer;
  transition:0.2s;
}
.qtd button:hover{background:#ccc;}
.qtd input{width:50px;text-align:center;border-radius:6px;border:1px solid #ccc;padding:4px;}
.add{
  margin-top:auto;
  background:var(--azul);
  color:#fff;
  border:none;
  padding:8px;
  border-radius:20px;
  font-size:13px;
  cursor:pointer;
  transition:0.3s;
}
.add:hover{background:var(--azul2);}

/* CART */
#cart{
  position:fixed;
  bottom:-100%;
  left:0;
  width:100%;
  background:var(--cart-bg);
  border-top-left-radius:22px;
  border-top-right-radius:22px;
  box-shadow:0 -10px 30px var(--shadow);
  padding:16px;
  transition:.3s;
  max-height:80vh;
  overflow:auto;
  z-index:1000;
}
#cart.show{bottom:0}
.cart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;font-size:16px;}
.cart-item{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  margin:8px 0;
  padding:6px 8px;
  background:#f5f5f5;
  border-radius:10px;
}
.cart-footer{
  margin-top:12px;
}
.cart-footer button{
  width:100%;
  padding:12px;
  background:#25d366;
  border:none;
  color:#fff;
  font-size:16px;
  border-radius:25px;
  cursor:pointer;
}
.cart-footer button:hover{background:#1ebe5b;}

/* NAV BOTTOM */
.nav{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#fff;
  display:flex;
  justify-content:space-around;
  padding:10px 0;
  box-shadow:0 -5px 20px var(--shadow);
  cursor:pointer;
}
.nav button{
  background:none;
  border:none;
  font-size:16px;
  cursor:pointer;
}

/* ADMIN PANEL DISCRETO */
.admin-panel{
  display:none;
  padding:20px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 6px 18px var(--shadow);
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:90%;
  max-width:500px;
  z-index:2000;
}
.admin-panel.show{display:block;}
.admin-panel h2{margin-bottom:10px;}
.admin-panel table{width:100%;border-collapse:collapse;}
.admin-panel td, .admin-panel th{padding:8px;border-bottom:1px solid #ddd;}
.admin-panel input[type=number]{width:60px;padding:4px;border-radius:6px;border:1px solid #ccc;}
.admin-close{position:absolute;top:10px;right:12px;font-size:18px;cursor:pointer;color:#999;}
.admin-close:hover{color:#333;}
</style>
</head>
<body>

<header>
<h1>Od√≤m√°√¨y√† Artigos Religiosos</h1>
<p>Artigos com fundamento, respeito e tradi√ß√£o</p>
<a target="_blank" href="https://www.google.com/maps/search/?api=1&query=Rua+Sete+de+Agosto,+28,+Passo+Fundo+RS">üìç Rua Sete de Agosto, 28 ‚Äì Passo Fundo/RS</a>
<p>üïí Seg‚ÄìSex: 10h‚Äì12h | 13:30‚Äì19h ‚Ä¢ S√°b: 10h‚Äì12h | 13:30‚Äì17h</p>
</header>

<div class="search">
<input placeholder="Pesquisar produtos‚Ä¶" oninput="buscar(this.value)">
<select onchange="ordenar(this.value)">
<option value="">Ordenar</option>
<option value="menor">Menor pre√ßo</option>
<option value="maior">Maior pre√ßo</option>
</select>
</div>

<div class="tabs" id="tabs"></div>
<div class="produtos" id="produtos"></div>

<!-- CART -->
<div id="cart">
<div class="cart-header">
<b>üõí Seu carrinho</b>
<button onclick="toggleCart()">‚úñ</button>
</div>
<div id="cartItems"></div>
<div class="cart-footer">
<b>Total: R$ <span id="total">0</span></b>
<button onclick="checkout()">Finalizar no WhatsApp</button>
</div>
</div>

<div class="nav" id="navFooter">
<button>üõí Carrinho</button>
<p style="font-size:12px;margin-top:3px;">Od√≤m√°√¨y√†</p>
</div>

<!-- ADMIN -->
<div class="admin-panel" id="adminPanel">
<span class="admin-close" onclick="toggleAdmin()">‚úñ</span>
<h2>Painel Administrativo</h2>
<input id="buscaAdmin" placeholder="Buscar produto" oninput="buscarAdmin()">
<table>
<thead><tr><th>Produto</th><th>Pre√ßo</th><th>Desconto (%)</th><th>Estoque</th><th>Salvar</th></tr></thead>
<tbody id="adminTabela"></tbody>
</table>
</div>

<script>
// PRODUTOS EXEMPLO
let produtos = [
  {id:"1",nome:"Guia de Iemanj√°",preco:25,desconto:0,estoque:15,img:"https://via.placeholder.com/200x150?text=Iemanja",cat:"Guias"},
  {id:"2",nome:"Guia de Oxal√°",preco:25,desconto:0,estoque:12,img:"https://via.placeholder.com/200x150?text=Oxala",cat:"Guias"},
  {id:"3",nome:"Guia de Ogum",preco:25,desconto:0,estoque:10,img:"https://via.placeholder.com/200x150?text=Ogum",cat:"Guias"},
  {id:"4",nome:"Guia de Oxum",preco:25,desconto:0,estoque:8,img:"https://via.placeholder.com/200x150?text=Oxum",cat:"Guias"},
  {id:"5",nome:"Vela Azul",preco:10,desconto:0,estoque:20,img:"https://via.placeholder.com/200x150?text=Vela+Azul",cat:"Velas"},
  {id:"6",nome:"Vela Vermelha",preco:10,desconto:0,estoque:20,img:"https://via.placeholder.com/200x150?text=Vela+Vermelha",cat:"Velas"},
  {id:"7",nome:"Vela Branca",preco:10,desconto:0,estoque:20,img:"https://via.placeholder.com/200x150?text=Vela+Branca",cat:"Velas"},
  {id:"8",nome:"Vela Amarela",preco:10,desconto:0,estoque:20,img:"https://via.placeholder.com/200x150?text=Vela+Amarela",cat:"Velas"}
];

let carrinho = {};
const produtosDiv = document.getElementById("produtos");
const tabsDiv = document.getElementById("tabs");

// RENDER TABS
const cats = [...new Set(produtos.map(p=>p.cat))];
cats.forEach(c=>{
  const btn = document.createElement("button");
  btn.textContent = c;
  btn.onclick=()=>filtrar(c);
  tabsDiv.appendChild(btn);
});
renderProdutos(produtos);

// FUN√á√ïES PRODUTOS
function renderProdutos(lista){
  produtosDiv.innerHTML="";
  lista.forEach(p=>{
    const precoFinal = p.preco * (1 - p.desconto/100);
    const div=document.createElement("div");
    div.className="produto";
    div.innerHTML=`
      <img src="${p.img}">
      <h3>${p.nome}</h3>
      <div class="preco">R$ ${precoFinal.toFixed(2)}${p.desconto>0?` <span style="color:#f00;font-size:12px;">(${p.desconto}% off)</span>`:""}</div>
      Estoque: ${p.estoque}
      <div class="qtd">
        <button onclick="mudarQtd('${p.id}',-1)">-</button>
        <input type="number" min="1" value="1" id="q_${p.id}">
        <button onclick="mudarQtd('${p.id}',1)">+</button>
      </div>
      <button class="add" onclick="addCarrinho('${p.id}')">Adicionar</button>`;
    produtosDiv.appendChild(div);
  });
}

function mudarQtd(id,delta){
  const inp=document.getElementById("q_"+id);
  inp.value=Math.max(1, Number(inp.value)+delta);
}

function addCarrinho(id){
  const qtd = Number(document.getElementById("q_"+id).value);
  const p = produtos.find(x=>x.id===id);
  if(p.estoque<qtd){ alert("Sem estoque!"); return;}
  p.estoque -= qtd;
  carrinho[id]=(carrinho[id]||0)+qtd;
  atualizarCarrinho();
  renderProdutos(produtos);
}

function atualizarCarrinho(){
  const cartItems=document.getElementById("cartItems");
  cartItems.innerHTML="";
  let total=0;
  if(Object.keys(carrinho).length===0){
    cartItems.innerHTML="<p style='text-align:center;color:#888'>Carrinho vazio</p>";
  }
  Object.entries(carrinho).forEach(([id,q])=>{
    const p=produtos.find(x=>x.id===id);
    const precoFinal = p.preco*(1 - p.desconto/100);
    total+=precoFinal*q;
    cartItems.innerHTML+=`<div class="cart-item">${p.nome} x${q} <span>R$ ${(precoFinal*q).toFixed(2)}</span></div>`;
  });
  document.getElementById("total").innerText=total.toFixed(2);
}

function toggleCart(){document.getElementById("cart").classList.toggle("show");}

// CHECKOUT COM OP√á√ÉO ENTREGA/RETIRADA
function checkout(){
  if(Object.keys(carrinho).length===0){ alert("Carrinho vazio!"); return;}
  const opc = prompt("Voc√™ deseja Retirar os produtos ou deseja Entrega? (digite: retirar ou entrega)").toLowerCase();
  let enderecoMsg="";
  if(opc==="entrega"){
    const endereco = prompt("Digite seu endere√ßo completo:");
    if(!endereco){ alert("Endere√ßo obrigat√≥rio para entrega"); return;}
    enderecoMsg = "üì¶ Entrega em: "+endereco;
  } else {
    enderecoMsg = "üè¨ Retirada na loja: Rua Sete de Agosto, 28 ‚Äì Passo Fundo/RS";
  }

  let msg="Ol√°! Quero comprar:\n";
  Object.entries(carrinho).forEach(([id,q])=>{
    const p=produtos.find(x=>x.id===id);
    const precoFinal = p.preco*(1 - p.desconto/100);
    msg+=`- ${p.nome} x${q} (R$ ${ (precoFinal*q).toFixed(2) })\n`;
  });
  msg+=enderecoMsg;
  window.open("https://wa.me/5554996048808?text="+encodeURIComponent(msg));
}

// FILTROS
function filtrar(cat){ renderProdutos(produtos.filter(p=>p.cat===cat)); }
function buscar(txt){ renderProdutos(produtos.filter(p=>p.nome.toLowerCase().includes(txt.toLowerCase()))); }
function ordenar(tipo){
  let lista=[...produtos];
  if(tipo==="menor") lista.sort((a,b)=>a.preco-b.preco);
  if(tipo==="maior") lista.sort((a,b)=>b.preco-a.preco);
  renderProdutos(lista);
}

// ADMIN ESCONDIDO COM TELEFONE E SENHA
const adminPanel = document.getElementById("adminPanel");
const adminTabela = document.getElementById("adminTabela");
let clickCount = 0;
const navFooter = document.getElementById("navFooter");

navFooter.addEventListener("click", ()=>{
  clickCount++;
  if(clickCount>=5){
    clickCount=0;
    const telefone = prompt("Digite seu n√∫mero de telefone:");
    const senha = prompt("Digite a senha:");
    if(telefone==="5542999861309" && senha==="godoy2026"){
      alert("Acesso concedido!");
      toggleAdmin();
    } else {
      alert("Acesso negado!");
    }
  }
});

function toggleAdmin(){ 
  adminPanel.classList.toggle("show");
  renderAdmin();
}

function renderAdmin(){
  adminTabela.innerHTML="";
  produtos.forEach(p=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${p.nome}</td>
      <td><input type="number" id="preco_${p.id}" value="${p.preco}"></td>
      <td><input type="number" id="desconto_${p.id}" value="${p.desconto}" min="0" max="100"></td>
      <td><input type="number" id="estoque_${p.id}" value="${p.estoque}"></td>
      <td><button onclick="salvarAdmin('${p.id}')">Salvar</button></td>
    `;
    adminTabela.appendChild(tr);
  });
}

function salvarAdmin(id){
  const p = produtos.find(x=>x.id===id);
  p.preco = Number(document.getElementById("preco_"+id).value);
  p.desconto = Number(document.getElementById("desconto_"+id).value);
  p.estoque = Number(document.getElementById("estoque_"+id).value);
  renderProdutos(produtos);
}

function buscarAdmin(){
  const txt = document.getElementById("buscaAdmin").value.toLowerCase();
  const trs = adminTabela.querySelectorAll("tr");
  trs.forEach(tr=>{
    const nome = tr.children[0].innerText.toLowerCase();
    tr.style.display = nome.includes(txt) ? "" : "none";
  });
}
</script>

</body>
</html>
