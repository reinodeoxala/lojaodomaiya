<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Od√≤m√°iy√° Artigos Religiosos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
--azul:#0b2c4a;
--promo:#c62828;
--fundo:#f4f6fa;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:Montserrat,sans-serif;
background:var(--fundo);
padding-bottom:120px;
}

/* CABE√áALHO */
header{
background:linear-gradient(135deg,#071d33,#0b2c4a);
color:#fff;
padding:22px 15px;
text-align:center;
border-radius:0 0 22px 22px;
}

header h1{font-size:20px;margin-bottom:6px}
header p{font-size:13px;opacity:.9}

/* PRODUTOS */
#produtos{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:15px;
padding:15px;
}

.produto{
background:#fff;
border-radius:18px;
padding:12px;
box-shadow:0 6px 18px rgba(0,0,0,.15);
}

.produto img{
width:100%;
border-radius:14px;
margin-bottom:8px;
}

.produto h3{
font-size:14px;
margin-bottom:6px;
}

.preco-antigo{
text-decoration:line-through;
font-size:13px;
color:#777;
}

.preco{
font-size:15px;
font-weight:600;
color:var(--azul);
}

.badge{
background:var(--promo);
color:white;
display:inline-block;
padding:3px 8px;
font-size:11px;
border-radius:12px;
margin-bottom:6px;
}

input{
width:60px;
padding:6px;
border-radius:8px;
border:1px solid #ccc;
margin:6px 0;
}

button{
width:100%;
background:var(--azul);
color:#fff;
border:none;
padding:10px;
border-radius:25px;
cursor:pointer;
}
</style>
</head>

<body>

<header>
<h1>Od√≤m√°iy√° Artigos Religiosos</h1>
<p>üìç Rua Cel. Mostardeiro, Boqueir√£o ‚Äî Passo Fundo / RS</p>
</header>

<div id="produtos"></div>

<script>
const PLANILHA_URL = "COLE_AQUI_O_LINK_DA_PLANILHA_CSV";

const hoje = new Date();
const produtosDiv = document.getElementById("produtos");

fetch(PLANILHA_URL)
.then(r => r.text())
.then(csv => {
  const linhas = csv.split("\n").slice(1);

  linhas.forEach(linha => {
    if(!linha.trim()) return;

    const [
      nome,
      categoria,
      preco,
      precoPromo,
      dataInicio,
      dataFim,
      estoque,
      imagem
    ] = linha.split(",");

    if(Number(estoque) <= 0) return;

    let promoAtiva = false;

    if(precoPromo > 0 && dataInicio && dataFim){
      const inicio = new Date(dataInicio);
      const fim = new Date(dataFim);
      promoAtiva = hoje >= inicio && hoje <= fim;
    }

    const precoFinal = promoAtiva ? precoPromo : preco;

    produtosDiv.innerHTML += `
      <div class="produto">
        <img src="${imagem}" loading="lazy">
        <h3>${nome}</h3>

        ${promoAtiva ? `
          <span class="badge">Promo√ß√£o</span>
          <div class="preco-antigo">R$ ${Number(preco).toFixed(2)}</div>
        ` : ``}

        <div class="preco">R$ ${Number(precoFinal).toFixed(2)}</div>

        <input type="number" min="1" max="${estoque}" value="1">
        <button>Adicionar</button>
      </div>
    `;
  });
});
</script>

</body>
</html>

