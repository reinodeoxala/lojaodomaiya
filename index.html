<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Od√≤miy√° Artigos Religiosos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f4f6f8}

/* HEADER */
header{
background:linear-gradient(135deg,#0a2540,#133b5c);
color:#fff;
padding:20px;
text-align:center;
}
header a{color:#9ad7ff;text-decoration:none}

/* CONTROLES */
.controls{
display:flex;
gap:10px;
padding:15px;
flex-wrap:wrap;
justify-content:center;
}
.controls input,.controls select{
padding:8px;border-radius:6px;border:1px solid #ccc;
}

/* TABS */
#tabs{
display:flex;gap:10px;overflow-x:auto;
background:#fff;padding:10px;
}
#tabs button{
border:none;padding:8px 14px;
border-radius:20px;cursor:pointer;
background:#e0e0e0;
}
#tabs button.active{
background:#0a2540;color:#fff;
}

/* PRODUTOS */
#products{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(230px,1fr));
gap:15px;padding:20px;
}
.card{
background:#fff;border-radius:12px;
box-shadow:0 4px 10px rgba(0,0,0,.08);
padding:15px;
}
.card img{
width:100%;height:160px;
object-fit:cover;border-radius:10px;
}
.card h3{font-size:15px;margin:8px 0}
.price{font-weight:bold}
.promo{color:red;font-size:13px}
.low{color:red;font-size:12px}

/* QTD */
.qty{display:flex;gap:6px;margin-top:10px}
.qty button{width:30px;height:30px}

/* FIXOS */
#cartBtn{
position:fixed;bottom:20px;left:20px;
background:#0a2540;color:#fff;
padding:12px 18px;border-radius:30px;
cursor:pointer;
}
#whats{
position:fixed;bottom:20px;right:20px;
background:#25d366;color:#fff;
padding:14px;border-radius:50%;
text-decoration:none;font-size:22px;
}

/* MODAL */
.modal{
position:fixed;inset:0;
background:rgba(0,0,0,.6);
display:none;justify-content:center;align-items:center;
}
.box{
background:#fff;width:90%;max-width:420px;
border-radius:12px;padding:20px;
}
.item-cart{display:flex;justify-content:space-between}

/* ADMIN */
#adminBtn{
text-align:center;padding:15px;
font-size:13px;color:#555;cursor:pointer;
}
</style>
</head>

<body>

<header>
<h1>Od√≤miy√° Artigos Religiosos</h1>
<p>üìç <a href="https://www.google.com/maps/search/?api=1&query=Rua+Sete+de+Agosto,+28,+Passo+Fundo+RS" target="_blank">
Rua Sete de Agosto, 28 ‚Äì Passo Fundo / RS</a></p>
<p>üïí Seg‚ÄìSex: 10h‚Äì12h ‚Ä¢ 13:30‚Äì19h<br>
S√°bado: 10h‚Äì12h ‚Ä¢ 13:30‚Äì17h</p>
</header>

<div class="controls">
<input id="search" placeholder="Pesquisar produto">
<select id="sort">
<option value="">Ordenar</option>
<option value="asc">Menor pre√ßo</option>
<option value="desc">Maior pre√ßo</option>
</select>
</div>

<div id="tabs"></div>
<div id="products"></div>

<div id="cartBtn" onclick="openCart()">üõí Carrinho (<span id="cartCount">0</span>)</div>
<a id="whats" href="#" onclick="sendWhats()">üí¨</a>

<div id="cartModal" class="modal" onclick="closeModal(event)">
<div class="box">
<h3>Seu carrinho</h3>
<div id="cartItems"></div>
<p><b>Total: R$ <span id="total">0.00</span></b></p>
<button onclick="sendWhats()">Enviar WhatsApp</button>
</div>
</div>

<div id="adminBtn" onclick="openAdmin()">‚öôÔ∏è Painel Admin</div>

<div id="adminModal" class="modal">
<div class="box">
<h3>Admin</h3>
<input type="password" id="adminPass" placeholder="Senha">
<button onclick="login()">Entrar</button>
<div id="adminPanel"></div>
</div>
</div>

<script>
const ADMIN_PASSWORD="odomiya123";

let products=JSON.parse(localStorage.getItem("products"))||[
{name:"Vela 7 dias branca",price:15,promo:0,stock:20,cat:"Velas",img:"https://via.placeholder.com/300x200?text=Vela"},
{name:"Ferramenta Exu Tridente",price:120,promo:90,stock:3,cat:"Ferramentas Exu",img:"https://via.placeholder.com/300x200?text=Exu"},
{name:"Roupa Na√ß√£o Branca",price:220,promo:0,stock:5,cat:"Roupa Na√ß√£o",img:"https://via.placeholder.com/300x200?text=Roupa"},
{name:"Charuto Ritual",price:55,promo:0,stock:8,cat:"Charutos",img:"https://via.placeholder.com/300x200?text=Charuto"}
];

let cart=JSON.parse(localStorage.getItem("cart"))||[];
let cat="Todos";

const tabs=[...new Set(["Todos",...products.map(p=>p.cat)])];
tabs.forEach(t=>{
let b=document.createElement("button");
b.textContent=t;
b.onclick=()=>{cat=t;render()};
tabsDiv.appendChild(b);
});

function render(){
productsDiv.innerHTML="";
let list=products.filter(p=>
(cat==="Todos"||p.cat===cat)&&
p.name.toLowerCase().includes(search.value.toLowerCase())
);
if(sort.value==="asc")list.sort((a,b)=>(a.promo||a.price)-(b.promo||b.price));
if(sort.value==="desc")list.sort((a,b)=>(b.promo||b.price)-(a.promo||a.price));

list.forEach(p=>{
productsDiv.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
${p.promo?`<div class="promo">Promo: R$ ${p.promo}</div>`:""}
<div class="price">R$ ${p.promo||p.price}</div>
${p.stock<=3?'<div class="low">√öltimas unidades</div>':''}
<div class="qty">
<button onclick="add('${p.name}',-1)">‚àí</button>
<button onclick="add('${p.name}',1)">+</button>
</div>
</div>`;
});
updateCart();
}

function add(n,q){
let i=cart.find(i=>i.name===n);
let p=products.find(p=>p.name===n);
if(!i&&q>0)cart.push({...p,qty:1});
else if(i){i.qty+=q;if(i.qty<=0)cart=cart.filter(x=>x.name!==n);}
save();
}

function save(){
localStorage.setItem("cart",JSON.stringify(cart));
localStorage.setItem("products",JSON.stringify(products));
updateCart();
}

function updateCart(){
cartCount.textContent=cart.reduce((s,i)=>s+i.qty,0);
cartItems.innerHTML="";
let t=0;
cart.forEach(i=>{
let pr=i.promo||i.price;
t+=pr*i.qty;
cartItems.innerHTML+=`
<div class="item-cart">${i.name} x${i.qty}
<button onclick="removeItem('${i.name}')">X</button>
</div>`;
});
total.textContent=t.toFixed(2);
}

function removeItem(n){cart=cart.filter(i=>i.name!==n);save();}

function openCart(){cartModal.style.display="flex";}
function closeModal(e){if(e.target.classList.contains("modal"))e.target.style.display="none";}

function sendWhats(){
let msg="Pedido Od√≤miy√°%0A";
cart.forEach(i=>msg+=`${i.name} x${i.qty}%0A`);
msg+=`Total R$ ${total.textContent}`;
window.open("https://wa.me/55SEUNUMERO?text="+msg);
}

/* ADMIN */
function openAdmin(){adminModal.style.display="flex";}
function login(){
if(adminPass.value!==ADMIN_PASSWORD)return alert("Senha incorreta");
adminPanel.innerHTML="";
products.forEach((p,i)=>{
adminPanel.innerHTML+=`
<p>${p.name}<br>
Pre√ßo <input value="${p.price}" onchange="products[${i}].price=this.value">
Promo <input value="${p.promo}" onchange="products[${i}].promo=this.value">
Estoque <input value="${p.stock}" onchange="products[${i}].stock=this.value">
</p>`;
});
}
render();
</script>

</body>
</html>
